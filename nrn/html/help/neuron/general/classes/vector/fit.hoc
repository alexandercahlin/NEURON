//@code
objref g, dvec, fvec, ivec
g = new Graph()
g.size(0,3,0,3)

func fun() {local f
        if ($1 == 0) {
                g.line($2, $3)
                g.flush()
                print $1, $2, $3
        }
        return ($2 - 1)^2 +($3-.5)^2
}


dvec = new Vector(2)
fvec = new Vector(2)
fvec.fill(1)
ivec = new Vector(2)
ivec.indgen()

a = 2
b = 1
g.beginline()
error = dvec.fit(fvec, "fun", ivec, &a, &b)
print a, b, error
