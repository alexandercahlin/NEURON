//@code
proc sparse_print() { local i, j, jx, x
	print $o1
	for i=0, $o1.nrow-1 {
		printf("%d  ", i)
		for jx = 0, $o1.sprowlen(i)-1 {
			x = $o1.spgetrowval(i, jx, &j)
			printf("  %d:%g", j, x)
		}
		printf ("\n")
	}
}

objref m
m = new Matrix(4, 5, 2)
m.x[0][2] = 1.2
m.x[0][4] = 2.4
m.x[1][1] = 3.1
for i=0, 4 { m.x[3][i] = i/10 }
sparse_print(m)
